Parfait, tes captures sont trÃ¨s parlantes ğŸ‘
Tu nâ€™as pas fait dâ€™erreur fonctionnelle, tu es tombÃ© sur 2 piÃ¨ges classiques de hammer host list. Je tâ€™explique exactement pourquoi Ã§a Ã©choue et quelle est la bonne commande (testÃ©e Satellite 6.17 / Katello).
âŒ Pourquoi ta commande Ã©choue
1ï¸âƒ£ --lifecycle-environment Nâ€™EXISTE PAS pour hammer host list
Erreur vue :
Copy code

Error: Unrecognized option '--lifecycle-environment'
â¡ï¸ Câ€™est normal
hammer host list ne filtre JAMAIS directement par lifecycle-environment.
ğŸ‘‰ Le lifecycle est un champ de recherche, pas une option.
2ï¸âƒ£ Release Version nâ€™est pas dans les fields prÃ©dÃ©finis
Dans lâ€™aide :
Copy code

Predefined field sets:
Id, Name, Operating system, Host group, IP...
â¡ï¸ release_version nâ€™est pas affichable par dÃ©faut en table standard.
âœ… LA BONNE MÃ‰THODE (qui marche Ã  100 %)
ğŸŸ¢ MÃ©thode 1 â€” VÃ©rifier le release de TOUS les hosts Dev_IBMz (recommandÃ©e)
ğŸ‘‰ On filtre via --search et on sort en CSV
Copy code
Bash
hammer host list \
  --organization "BP2I_IBMz" \
  --search "lifecycle_environment = Dev_IBMz" \
  --output csv \
  --fields name,release_version
ğŸ“Œ RÃ©sultat attendu :
Copy code

Name,Release Version
host01,9.6
host02,9.6
host03,9.6
ğŸ’¡ CSV est obligatoire sinon Hammer nâ€™affiche pas release_version.
ğŸŸ¢ MÃ©thode 2 â€” Trouver les hosts RESTÃ‰S en 9.4 (audit rapide)
Copy code
Bash
hammer host list \
  --organization "BP2I_IBMz" \
  --search "lifecycle_environment = Dev_IBMz and release_version = 9.4" \
  --output csv \
  --fields name,release_version
ğŸ‘‰ Si la sortie est vide â†’ migration OK âœ…
ğŸŸ¢ MÃ©thode 3 â€” Boucle robuste (mode N3 / preuve CAB)
Copy code
Bash
for h in $(hammer host list \
  --organization "BP2I_IBMz" \
  --search "lifecycle_environment = Dev_IBMz" \
  --per-page 1000 \
  --fields Name | tail -n +2); do

  echo "==== $h ===="
  hammer host info \
    --organization "BP2I_IBMz" \
    --name "$h" | grep -i "Release Version"
done
âœ”ï¸ Fonctionne mÃªme si CSV est dÃ©sactivÃ©
âœ”ï¸ IdÃ©al pour logs / preuves
ğŸ§  RÃ‰SUMÃ‰ DES PIÃˆGES (Ã  retenir)
PiÃ¨ge
RÃ©alitÃ©
--lifecycle-environment
âŒ option inexistante
Lifecycle
âœ… filtre via --search
release_version
âŒ pas visible en table
Solution
âœ… --output csv
âœ… Commande â€œgoldenâ€ Ã  garder sous le coude
Copy code
Bash
hammer host list \
  --organization "BP2I_IBMz" \
  --search "lifecycle_environment = Dev_IBMz" \
  --output csv \
  --fields name,os_title,release_version,content_view
Si tu veux, au prochain message je peux :
ğŸ”’ te donner un script de conformitÃ© bloquant si â‰  9.6